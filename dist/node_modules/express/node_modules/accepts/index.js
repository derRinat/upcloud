function Accepts(e){if(!(this instanceof Accepts))return new Accepts(e);this.headers=e.headers,this.negotiator=Negotiator(e)}function extToMime(e){return~e.indexOf("/")?e:mime.lookup(e)}function validMime(e){return typeof e=="string"}var Negotiator=require("negotiator"),mime=require("mime-types"),slice=[].slice;module.exports=Accepts,Accepts.prototype.type=Accepts.prototype.types=function(e){Array.isArray(e)||(e=slice.call(arguments));var t=this.negotiator;if(!e.length)return t.mediaTypes();if(!this.headers.accept)return e[0];var n=e.map(extToMime),r=t.mediaTypes(n.filter(validMime)),i=r[0];return i?e[n.indexOf(i)]:!1},Accepts.prototype.encoding=Accepts.prototype.encodings=function(e){Array.isArray(e)||(e=slice.call(arguments));var t=this.negotiator;return e.length?t.encodings(e)[0]||!1:t.encodings()},Accepts.prototype.charset=Accepts.prototype.charsets=function(e){Array.isArray(e)||(e=[].slice.call(arguments));var t=this.negotiator;return e.length?this.headers["accept-charset"]?t.charsets(e)[0]||!1:e[0]:t.charsets()},Accepts.prototype.lang=Accepts.prototype.langs=Accepts.prototype.language=Accepts.prototype.languages=function(e){Array.isArray(e)||(e=slice.call(arguments));var t=this.negotiator;return e.length?this.headers["accept-language"]?t.languages(e)[0]||!1:e[0]:t.languages()};