function Negotiator(e){if(!(this instanceof Negotiator))return new Negotiator(e);this.request=e}function capitalize(e){return e.charAt(0).toUpperCase()+e.slice(1)}module.exports=Negotiator,Negotiator.Negotiator=Negotiator;var set={charset:"accept-charset",encoding:"accept-encoding",language:"accept-language",mediaType:"accept"};Object.keys(set).forEach(function(e){var t=set[e],n=require("./"+e+".js"),r=e,i=e+"s";Negotiator.prototype[i]=function(e){return n(this.request.headers[t],e)},Negotiator.prototype[r]=function(e){var t=this[i](e);if(t)return t[0]},Negotiator.prototype["preferred"+capitalize(i)]=Negotiator.prototype[i],Negotiator.prototype["preferred"+capitalize(r)]=Negotiator.prototype[r]});