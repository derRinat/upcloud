function listener(e,t){return function(r){var i=new Array(arguments.length),s=this,o=e==="error"?r:null;for(var u=0;u<i.length;u++)i[u]=arguments[u];t(o,s,e,i)}}module.exports=function(t,n){function l(){c(),n.apply(null,arguments)}function c(){var e;for(var t=0;t<r.length;t++)e=r[t],e.ee.removeListener(e.event,e.fn)}function h(e){n=e}if(!Array.isArray(t))throw new TypeError("arg must be an array of [ee, events...] arrays");var r=[];for(var i=0;i<t.length;i++){var s=t[i];if(!Array.isArray(s)||s.length<2)throw new TypeError("each array member must be [ee, events...]");var o=s[0];for(var u=1;u<s.length;u++){var a=s[u],f=listener(a,l);o.on(a,f),r.push({ee:o,event:a,fn:f})}}return h.cancel=c,h};