var db=require("mime-db");exports.types=Object.create(null),exports.extensions=Object.create(null),Object.keys(db).forEach(function(e){var t=db[e],n=t.extensions;if(!n||!n.length)return;exports.extensions[e]=n,n.forEach(function(t){exports.types[t]=e})}),exports.lookup=function(e){return!e||typeof e!="string"?!1:(e=e.replace(/.*[\.\/\\]/,"").toLowerCase(),e?exports.types[e]||!1:!1)},exports.extension=function(e){if(!e||typeof e!="string")return!1;e=e.match(/^\s*([^;\s]*)(?:;|\s|$)/);if(!e)return!1;var t=exports.extensions[e[1].toLowerCase()];return!t||!t.length?!1:t[0]},exports.charset=function(e){var t=db[e];return t&&t.charset?t.charset:/^text\//.test(e)?"UTF-8":!1},exports.charsets={lookup:exports.charset},exports.contentType=function(e){if(!e||typeof e!="string")return!1;~e.indexOf("/")||(e=exports.lookup(e));if(!e)return!1;if(!~e.indexOf("charset")){var t=exports.charset(e);t&&(e+="; charset="+t.toLowerCase())}return e};