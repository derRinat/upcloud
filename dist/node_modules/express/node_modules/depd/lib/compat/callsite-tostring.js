/*!
 * depd
 * Copyright(c) 2014 Douglas Christopher Wilson
 * MIT Licensed
 */

function callSiteFileLocation(e){var t,n="";e.isNative()?n="native":e.isEval()?(t=e.getScriptNameOrSourceURL(),t||(n=e.getEvalOrigin())):t=e.getFileName();if(t){n+=t;var r=e.getLineNumber();if(r!=null){n+=":"+r;var i=e.getColumnNumber();i&&(n+=":"+i)}}return n||"unknown source"}function callSiteToString(e){var t=!0,n=callSiteFileLocation(e),r=e.getFunctionName(),i=e.isConstructor(),s=!e.isToplevel()&&!i,o="";if(s){var u=e.getMethodName(),a=getConstructorName(e);r?(a&&r.indexOf(a)!==0&&(o+=a+"."),o+=r,u&&r.lastIndexOf("."+u)!==r.length-u.length-1&&(o+=" [as "+u+"]")):o+=a+"."+(u||"<anonymous>")}else i?o+="new "+(r||"<anonymous>"):r?o+=r:(t=!1,o+=n);return t&&(o+=" ("+n+")"),o}function getConstructorName(e){var t=e.receiver;return t.constructor&&t.constructor.name||null}module.exports=callSiteToString;